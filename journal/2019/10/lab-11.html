<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>Lab 11</title>
    <meta name="description" content="Array methods:  At the beginning of lab 11, we dived into higher order methods in JavaScript such as `map` and `filter` which behave similarily than in Racket. We learned about the `reduce` function and implemented it in a similar way to `foldl` to calcul...">
    <meta name="author"      content="The Unknown Author">
    <meta name="keywords"    content="all, Author: Edgar Cobos">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="http://www.example.com/2019/10/lab-11.html">
    <link rel="next" href="/2019/10/lab-10.html">
    <link rel="prev" href="/2019/10/lab-12.html">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/pygments.css">
    <link rel="stylesheet" type="text/css" href="/css/scribble.css">
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml"
          href="/feeds/all.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml"
          href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-xxxxx', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>

    <!-- A standard Twitter Bootstrap nav bar -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <div class="container">

      <a href="/index.html" class="navbar-brand">My Blog Brand</a>

      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
              data-target="#navbar_collapse" aria-controls="navbar_collapse"
              aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbar_collapse">
          <ul class="navbar-nav mr-auto">


            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                Tags <b class="caret"></b>
              </a>

              <div class="dropdown-menu">
                <a class="dropdown-item" href="/tags/Author-Edgar-Cobos.html">Author: Edgar Cobos</a>
              </div>
            </li>

            <li>
              <a class="nav-link" href="/About.html">About</a>
            </li> 

            <li class="nav-item">
              <a class="nav-link" href="/feeds/all.atom.xml">Atom</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="/feeds/all.rss.xml">RSS</a>
            </li>
          </ul>
      </div>

      </div>
    </nav>


    <div class="container">
      <div class="row">

        <!-- Main column -->
        <div id="content" class="col-md-12">





          <article>
  <header>
    <h1>Lab 11</h1>
    <p class='date-and-tags'>
<time datetime="2019-10-15" pubdate="true">2019-10-15</time> :: <span class="tags"><a href="/tags/all.html">all</a></span></p>
    <p class='authors'>By: <span class="authors"><a href="/tags/Author-Edgar-Cobos.html">Edgar Cobos</a></span></p>
  </header>

<h2 id="array-methods">Array methods</h2>

<p>At the beginning of lab 11, we dived into higher order methods in JavaScript such as <code>map</code> and <code>filter</code> which behave similarily than in Racket. We learned about the <code>reduce</code> function and implemented it in a similar way to <code>foldl</code> to calculate the average of the numbers in an array. Then, we used <code>forEach</code> in order to iterate over an array with an arbitrary action without the need for loop indices and bounds. Although <code>forEach</code> resembles, it is different in that it does not construct a list.</p>

<p>The functions implimenting <code>foldl</code> and <code>forEach</code> ended up looking like this:</p>

<div class="brush: js">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="c1">//foldl</span>
<span class="kd">function</span> <span class="nx">average</span> <span class="p">(</span><span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">array</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="o">+</span><span class="nx">b</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="nx">array</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">average</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]));</span>

<span class="c1">//forEach</span>
<span class="kd">function</span> <span class="nx">average2</span> <span class="p">(</span><span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">sum</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="nx">array</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span><span class="nx">sum</span> <span class="o">+=</span> <span class="nx">a</span><span class="p">});</span>
    <span class="k">return</span> <span class="nx">sum</span><span class="o">/</span><span class="nx">array</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">average</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]));</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h2 id="flatten">Flatten</h2>

<p>Next, we practiced using <code>reduce</code> and <code>concat</code> to &ldquo;flatten&rdquo; an array of arrays into a single array that has all the elements of the original arrays. With reduce, we were able to iterate over the elements while concat allowed us to add each element to the solution array, which is initially an empty array. The solution to this exercise was not very complex thanks to the help of <code>reduce</code> and <code>concat</code>. However, it only worked for one level of nesting, for which it would need to be implement recursively.</p>

<p><strong>Flatten</strong></p>

<div class="brush: js">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="kd">function</span> <span class="nx">flatten</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">array</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span><span class="nx">cur</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">acc</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">cur</span><span class="p">),</span> <span class="p">[]);</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h2 id="jason">Jason</h2>

<p>Then, we went over parsing JSON. This time, our task was to implement a linear scanner to look for a name in the data from <strong>ancestry.json</strong> and if found return its information. In order to iteratve over the data, I used a for loop as so:</p>

<div class="brush: js">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="c1">//linear scanner</span>
<span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">current_name</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">current_name</span> <span class="o">==</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
</div>

<h2 id="methods">Methods</h2>

<p>In this part of the lab, we learned about methods and explored different ways of creating a Time object with the properties <code>hours</code> and <code>minutes</code> and a <code>plus</code> method. The first way, involved creating a function <code>plus</code>, assigning the plus method to a variable inside the function and using it to return makeTime, and then returning the function along with the hours and minutes properties.</p>

<div class="brush: js">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5
6
7</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="kd">function</span> <span class="nx">maketime</span><span class="p">(</span><span class="nx">hours</span><span class="p">,</span> <span class="nx">mins</span><span class="p">){</span>
    <span class="kd">let</span> <span class="nx">plus</span><span class="o">=</span><span class="kd">function</span> <span class="p">(</span><span class="nx">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">raw</span><span class="o">=</span><span class="nx">timePlus</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">other</span><span class="p">);</span>
        <span class="k">return</span> <span class="nx">maketime</span><span class="p">(</span><span class="nx">raw</span><span class="p">.</span><span class="nx">hours</span><span class="p">,</span> <span class="nx">raw</span><span class="p">.</span><span class="nx">mins</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="k">return</span> <span class="p">{</span> <span class="s2">"hours"</span><span class="o">:</span> <span class="nx">hours</span><span class="p">,</span> <span class="s2">"mins"</span><span class="o">:</span> <span class="nx">mins</span><span class="p">,</span> <span class="s2">"plus"</span><span class="o">:</span> <span class="nx">plus</span><span class="p">};</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
</div>

<p>Then, we looked at prototypes and used it to create a Time function and modify its prototype to include the plus method.</p>

<div class="brush: js">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="nx">Time</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">plus</span><span class="o">=</span><span class="kd">function</span> <span class="p">(</span><span class="nx">other</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">raw</span><span class="o">=</span><span class="nx">timePlus</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">other</span><span class="p">);</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Time</span><span class="p">(</span><span class="nx">raw</span><span class="p">.</span><span class="nx">hours</span><span class="p">,</span> <span class="nx">raw</span><span class="p">.</span><span class="nx">mins</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</td></tr></tbody></table>
</div>

<p>Finally, we created an object with a constructor among other methods via the class keyword, which is a familiar concept from Java.</p>

<h2 id="memoization">Memoization</h2>

<p>The last section, talked about memoization as a optimization technique that makes use of cache to speed up the reading of commonly accessed data. Reading json files had noticeable speed increases when implementing memoization, going down from 0.008ms for <strong>ancestry.json</strong> and 0.622ms for <strong>big.json</strong> to 0.003ms for each one during their last test.</p>

<p>This is how I implemented my loop for memoization:</p>

<div class="brush: js">
 <table class="sourcetable">
  <tbody>
   <tr>
    <td class="linenos">
     <div class="linenodiv">
      <pre>1
2
3
4
5</pre></div></td>
    <td class="code">
     <div class="source">
      <pre><span></span><span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span> <span class="o">===</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">cache</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
</div>
<!-- more-->
  <footer>
  </footer>
</article>
        </div>
      </div>
      <footer>
        <hr />
        <p><a href="https://twitter.com/racketlang"
              class="twitter-follow-button"
              data-show-count="false"
              data-lang="en">
             "Follow RacketLang"
           </a>
           <script type="text/javascript">
             !function(d,s,id){
                 var js,fjs=d.getElementsByTagName(s)[0];
                 if(!d.getElementById(id)){
                     js=d.createElement(s);
                     js.id=id;
                     js.src="//platform.twitter.com/widgets.js";
                     fjs.parentNode.insertBefore(js,fjs);
                 }
             }(document,"script","twitter-wjs");
           </script></p>
        <p>Site generated
        by <a href="https://github.com/greghendershott/frog">Frog</a>,
        the <strong>fr</strong>ozen bl<strong>og</strong> tool.</p>
        <p>Using <a href="http://twitter.github.com/bootstrap/index.html">Bootstrap</a>.</p>
        <p><em>Your legal notice here</em>.</p>
      </footer>
    </div>
    <!-- </body> JS -->
    <script type="text/javascript" src="/js/jquery-3.2.1.slim.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.bundle.min.js"></script>
  </body>
</html>